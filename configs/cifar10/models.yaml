defaults:
  model:
    variant: baseline
    type: unet
    base_channels: 48
    channel_mults:
    - 1
    - 2
    - 2
    num_res_blocks: 1
    attn_resolutions:
    - 16
    sigma_embed_dim: 96
    dropout: 0.1
    preconditioning:
      type: edm
      sigma_data: 0.5
      sigma_eps: 1.0e-05
    hybrid:
      high_type: unet
      low_type: potential_unet
      low_base_channels: 48
  loss:
    objective: edm_denoiser
    sigma_sampling: edm_lognormal
    edm_p_mean: -1.2
    edm_p_std: 1.2
    sigma_sample_clamp: true
    sigma_data: 0.5
    weight_mode: sigma2
    sigma_min: 0.002
    sigma_max: 80.0
    lambda_sym: 0.0
    mu_loop: 0.0
    reg_k: 1
    reg_freq: 4
    reg_low_noise_only: true
    reg_low_noise_threshold: 0.2
    loop_delta: 0.008
    loop_sparse_ratio: 0.1
    sigma0: 1.0
    lambda0: 0.03
    mu1: 0.03
    mu2: 0.03
    alpha: 0.03
    beta: 0.015
    sigma_c: 1.0
    reg_sym_method: auto_fast
    reg_sym_eps_fd: 0.001
    delta_set:
    - 0.0015
    - 0.003
    - 0.006
    cycle_knn_k: 8
    cycle_lengths:
    - 3
    - 4
    - 5
    cycle_samples: 16
    cycle_subset: 64
    cycle_freq: 2
    boundary_freq: 2
model_presets:
  m0:
    experiment:
      model_id: M0
    model:
      variant: baseline
      type: unet
    loss:
      lambda_sym: 0.0
      mu_loop: 0.0
      mu1: 0.0
      mu2: 0.0
      alpha: 0.0
      beta: 0.0
  m1:
    experiment:
      model_id: M1
    model:
      variant: reg
      type: unet
    loss:
      lambda_sym: 0.03
      mu_loop: 0.0
      reg_k: 1
      reg_freq: 4
      reg_sym_method: jvp_vjp
      reg_sym_variant: qcsbm_trace
      reg_sym_probe_dist: rademacher
      reg_sym_scale_sigma2: true
      reg_low_noise_only: false
  m2:
    experiment:
      model_id: M2
    model:
      variant: struct
      type: potential_unet
    loss:
      lambda_sym: 0.0
      mu_loop: 0.0
      mu1: 0.0
      mu2: 0.0
  m3:
    experiment:
      model_id: M3
    model:
      variant: baseline
      type: unet
    loss:
      lambda_sym: 0.0
      mu_loop: 0.0
      mu1: 0.012
      mu2: 0.003
      loop_subset: 8
      cycle_subset: 8
      cycle_samples: 8
      cycle_knn_k: 4
      reg_freq: 4
      loop_freq: 4
      cycle_freq: 16
      cycle_same_sigma: true
  m4:
    experiment:
      model_id: M4
    model:
      variant: baseline
      type: unet
      hybrid:
        high_type: unet
        low_type: potential_unet
    loss:
      alpha: 0.012
      beta: 0.006
      mu2: 0.0
      boundary_subset: 8
      cycle_subset: 4
      cycle_samples: 4
      reg_freq: 4
      match_freq: 4
      cycle_freq: 16
      cycle_same_sigma: true
