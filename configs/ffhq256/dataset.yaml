project:
  name: advance_score
  run_root: runs
dataset:
  name: ffhq256
  data_root: data
  batch_size: 8
  num_workers: 8
  pin_memory: true
  image_size: 256
  channels: 3
  ffhq:
    train_dir: ffhq/train
    val_dir: ffhq/val
    random_flip: true
    allow_eval_train_fallback: true
model:
  variant: baseline
  type: unet
  base_channels: 48
  channel_mults:
  - 1
  - 1
  - 2
  - 2
  - 4
  - 4
  num_res_blocks: 2
  attn_resolutions:
  - 16
  sigma_embed_dim: 128
  dropout: 0.1
  hybrid:
    high_type: unet
    low_type: potential_unet
    low_base_channels: 40
train:
  total_steps: 500000
  grad_accum_steps: 4
  amp: true
  lr: 0.0002
  betas:
  - 0.9
  - 0.999
  weight_decay: 0.01
  ema_decay: 0.9999
  clip_grad_norm: 1.0
  log_every: 50
  ckpt_every_steps: 500
  keep_last_k: 3
  seed: 0
loss:
  weight_mode: sigma2
  sigma_min: 0.002
  sigma_max: 80.0
  lambda_sym: 0.0
  mu_loop: 0.0
  reg_k: 1
  reg_freq: 8
  reg_low_noise_only: true
  reg_low_noise_threshold: 0.2
  loop_delta: 0.004
  loop_sparse_ratio: 0.03
  sigma0: 1.0
  lambda0: 0.03
  mu1: 0.03
  mu2: 0.03
  alpha: 0.03
  beta: 0.015
  sigma_c: 1.0
  reg_sym_method: auto_fast
  reg_sym_eps_fd: 0.001
  delta_set:
  - 0.001
  - 0.002
  - 0.004
  cycle_knn_k: 8
  cycle_lengths:
  - 3
  - 4
  - 5
  cycle_samples: 12
  cycle_subset: 16
  cycle_freq: 2
  boundary_freq: 2
sampler:
  main: heun
  compare:
  - euler
  nfe_list:
  - 10
  - 20
  - 50
  - 100
  - 200
eval:
  batch_size: 8
  num_fid_samples: 10000
  sigma_bins: 8
  integrability_batch: 8
  pathvar:
    enabled: false
    num_paths: 4
    num_segments: 6
  use_torch_fidelity: true
  enable_cycle_metrics: true
logging:
  use_tensorboard: true
  csv_filename: metrics.csv
compute:
  device: auto
  cudnn_benchmark: true
  precision: amp
  target_gpu_hours: 120
  tier: main
experiment:
  name: integrability_5way
